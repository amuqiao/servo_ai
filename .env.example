# Common Variables
# ------------------------------
# The name of the project.
COMPOSE_PROJECT_NAME=servo_ai

# ------------------------------
# MySQL Configuration
# ------------------------------
DB_HOST=localhost       # 数据库主机地址（示例值）
DB_PORT=3306            # 数据库端口（示例值）
DB_NAME=iot_platform    # 数据库名称（示例值）
DB_USER=pvuser          # 数据库用户名（示例值）
DB_PASSWORD=your_mysql_password  # 替换为您的数据库密码（敏感信息）

# ------------------------------
# Redis Configuration
# ------------------------------
# single|cluster|sentinel
REDIS_HOST=localhost          # Redis 主机地址（示例值）
REDIS_PORT=6379               # Redis 端口（示例值）
REDIS_PASSWORD=your_redis_password  # 替换为您的 Redis 密码（敏感信息）
REDIS_USE_SSL=false           # 是否启用 SSL（示例值）
REDIS_DB=0                    # Redis 数据库编号（示例值）
REDIS_MODE=standalone         # Redis 模式（示例值）

# ------------------------------
# Celery 任务队列配置
# ------------------------------
CELERY_SCAN_TASKS_INTERVAL=10.0  # 扫描Redis任务的间隔时间（单位：秒，示例值）
# Celery消息代理URL（使用Redis作为broker）
# 格式：redis://:<密码>@<主机>:<端口>/<数据库号>
# 必要
CELERY_BROKER_URL=redis://:your_redis_password@localhost:6379/0  # 替换为实际密码
CELERY_RESULT_BACKEND=redis://:your_redis_password@localhost:6379/0  # 替换为实际密码
MASTER_NAME=mymaster          # Sentinel 主节点名称（示例值）
CELERY_TIMEZONE=Asia/Shanghai  # 时区（示例值）
CELERY_TASK_SERIALIZER=json   # 任务序列化格式（示例值）
CELERY_RESULT_SERIALIZER=json # 结果序列化格式（示例值）
CELERY_ACCEPT_CONTENT=['json'] # 允许的内容类型（示例值）
CELERY_RESULT_EXPIRES=3600    # 结果过期时间（秒，示例值）
CELERY_LOG_FILE=/app/worker/logs/celery.log  # Celery 日志文件路径（示例值）
CELERY_LOG_DIR=/app/worker/logs  # Celery 日志目录（示例值）
CELERY_LOG_LEVEL=INFO         # 日志级别（示例值）
CELERY_LOG_FORMAT='%(asctime)s,%(msecs)d %(levelname)-2s [%(filename)s:%(lineno)d] %(message)s'  # 日志格式（示例值）
CELERY_LOG_DATE_FORMAT='%Y-%m-%d %H:%M:%S'  # 日志时间格式（示例值）
CELERY_LOG_ROTATION='midnight'  # 日志切割时间（示例值）
CELERY_LOG_BACKUP_COUNT=5      # 日志备份数量（示例值）
CELERY_LOG_MAX_BYTES=1024000   # 单日志文件最大大小（字节，示例值）

# 推荐配置
CELERY_ACKS_LATE=True          # 任务异常时重试（示例值）
CELERYD_PREFETCH_MULTIPLIER=1  # 工作进程预取消息数（示例值）
CELERY_RESULT_EXPIRES=3600     # 结果过期时间（秒，示例值）

# 可选配置（自动扩缩容）
CELERY_AUTO_SCALE=true         # 是否启用自动扩缩容（示例值）
CELERY_MAX_WORKERS=4           # 最大工作进程数（示例值）
CELERY_MIN_WORKERS=2           # 最小工作进程数（示例值）

# ========== 日志配置 ==========
LOGGING_LEVEL=20               # 日志级别（示例值）
LOG_DIR="logs"                 # 日志目录（示例值）
LOG_FILE_MAX_SIZE=10485760     # 单日志文件最大大小（字节，示例值）
LOG_FILE_BACKUP_COUNT=5        # 日志备份数量（示例值）
LOG_FORMAT="%(asctime)s %(levelname)-2s [%(name)s] [%(filename)s:%(lineno)d] - %(message)s"  # 日志格式（示例值）

# ========== 应用服务配置 ==========
DIFY_BASE_URL="http://xuntian-ai-sit.tclpv.com/v1"  # 替换为您的 Dify 服务地址
DIFY_API_KEY="your_dify_api_key"                 # 替换为您的 Dify API Key（敏感信息）
DIFY_TIMEOUT=300                                  # 超时时间（秒，示例值）
DIDY_OCR_BASE_URL='https://xuntian-pv.tcl.com/'  # 替换为您的 OCR 服务地址
CLOUDDEPLOY_SYS_INCREMENT=your_clouddeploy_increment  # 替换为您的云部署增量值（敏感信息）